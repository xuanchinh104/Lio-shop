<div class="bg-gradient min-h-[500px] pt-[30px] pb-[130px]">
    <div class="container">
        <ul class="flex mb-[30px]">
            <li>
                <a routerLink="/" class="flex items-center text-[#6F7A8A] font-semibold hover:text-[#0063E2]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" fill="none" class="w-[23px]">
                        <path
                            d="M14.2726 21.9419H16.0931C17.709 21.9419 19.2281 21.3127 20.3708 20.1701C21.5132 19.0271 22.1423 17.5079 22.1423 15.8922V9.97797C22.1423 7.99024 21.1727 6.11918 19.5486 4.97304L13.7187 0.857878C12.9233 0.29655 11.9883 -0.00012207 11.0147 -0.00012207C10.0296 -0.00012207 9.08559 0.302925 8.28445 0.876253L2.56017 4.97402C0.957093 6.12143 0 7.98368 0 9.95547V15.8922C0 17.5079 0.629156 19.0271 1.77164 20.1701C2.91408 21.3127 4.4332 21.9419 6.04917 21.9419H7.72718V14.2728C7.72718 12.4653 9.19243 11.0001 10.9999 11.0001C12.8074 11.0001 14.2726 12.4653 14.2726 14.2728V21.9419Z"
                            fill="currentColor"
                        />
                    </svg>
                    <span [attr.keyLabel]="'TRANG_CHU'" class="ml-2">{{ 'TRANG_CHU' | transloco }}</span>
                </a>
            </li>
            <li class="mx-[15px]">
                <span class="text-[#6F7A8A]">/</span>
            </li>
            <li>
                <span [attr.keyLabel]="'UU_DAI_HOC_PHI'" class="text-[#0063E2] font-semibold">{{ 'UU_DAI_HOC_PHI' | transloco }}</span>
            </li>
        </ul>
        <div class="bg-white shadow-[0_4px_20px_rgba(0,52,99,0.1)] rounded-[22px] p-[15px] sm:p-[30px]">
            <form class="m-form" novalidate>
                <div
                    [attr.keyLabel]="'TT_MIEN_GIAM'"
                    class="flex justify-center items-center text-[#1B2C43] text-[24px] sm:text-[34px] leading-[42px] font-bold mb-[28px] text-left"
                >
                    {{ 'TT_MIEN_GIAM' | transloco }}
                </div>
                <ng-container *ngIf="courses$ | async as courses">
                    <ng-container *ngIf="_info; else tmplNologin">
                        <asc-course-exemptions-login
                            (itemLopHocCombo)="registerLopHocComBo($event)"
                            (itemLopHocComboAddCart)="addToCart($event)"
                            (itemLopHocDon)="registerLopHocDon($event)"
                            [info]="_info"
                            [courses]="courses"
                            [arrCombo]="arrCombo"
                        ></asc-course-exemptions-login>
                    </ng-container>
                    <ng-template #tmplNologin>
                        <section class="relative">
                            <div class="flex items-center justify-start mb-[20px]">
                                <div class="flex justify-center items-center mr-[13px] w-[39px] h-[39px] rounded-full bg-[#E4EFFB]">
                                    <span class="text-[18px] leading-[27px] font-semibold text-[#0063E2]">1</span>
                                </div>
                                <div class="text-[20px] leading-[28px] font-bold text-[#0063E2]">
                                    {{ 'UU_DAI_LOP_HOC' | transloco }}
                                </div>
                            </div>
                            <ng-container *ngFor="let children of courses">
                                <ng-container *ngIf="children.keyText === 'don'">
                                    <div class="flex flex-col gap-[10px] border rounded-[8px] p-[15px] mb-[20px]">
                                        <div class="flex items-center justify-start font-semibold text-[18px] text-[#0079E0] px-[10px]">
                                            {{ loaiDoiTuong[children.idDoiTuong] }}
                                        </div>
                                        <div
                                            class="px-[20px] sm:grid gap-[10px] sm:grid-cols-[minmax(0,1fr)_137px_175px] lg:grid lg:grid-cols-[minmax(0,1fr)_170px_200px_135px_140px] text-[16px] text-[#005391] font-semibold"
                                        >
                                            <div [attr.keyLabel]="'TEN_LOP_DAO_TAO'" class="text-left">
                                                {{ 'TEN_LOP_DAO_TAO' | transloco }}
                                            </div>
                                            <div
                                                [attr.keyLabel]="'NGAY_BAT_DAU_KHAI_GIANG'"
                                                class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                            >
                                                {{ 'NGAY_BAT_DAU_KHAI_GIANG' | transloco }}
                                            </div>
                                            <div
                                                [attr.keyLabel]="'NGAY_KET_THUC_DANG_KY'"
                                                class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                            >
                                                {{ 'NGAY_KET_THUC_DANG_KY' | transloco }}
                                            </div>
                                            <div class="text-[14px] sm:hidden lg:text-[16px] lg:flex items-center justify-end hidden">
                                                {{ 'HOC_PHI' | transloco }}
                                            </div>
                                            <div
                                                [attr.keyLabel]="'HOC_PHI_CAN_NOP'"
                                                class="sm:hidden lg:flex items-center justify-end hidden"
                                            >
                                                {{ 'HOC_PHI_CAN_NOP' | transloco }}
                                            </div>
                                        </div>
                                        <ng-container *ngFor="let item of children.children">
                                            <div
                                                class="p-[20px] rounded-[11px] text-[16px] text-[#00000] font-semibold shadow-[0px_4px_20px_rgba(0,52,99,0.1)]"
                                            >
                                                <div
                                                    class="sm:grid gap-[10px] sm:grid-cols-[minmax(0,1fr)_137px_175px] lg:grid lg:grid-cols-[minmax(0,1fr)_170px_200px_135px_140px]"
                                                >
                                                    <div [attr.keyLabel]="'TEN_LOP_DAO_TAO'" class="text-left">
                                                        {{ item.tenLop }}
                                                    </div>
                                                    <div
                                                        [attr.keyLabel]="'NGAY_BAT_DAU_KHAI_GIANG'"
                                                        class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                                    >
                                                        {{ item.ngayBatDau | date : 'dd/MM/yyyy' }}
                                                    </div>
                                                    <div
                                                        [attr.keyLabel]="'NGAY_KET_THUC_DANG_KY'"
                                                        class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                                    >
                                                        {{ item.ngayKetThuc | date : 'dd/MM/yyyy' }}
                                                    </div>
                                                    <div class="font-medium text-[14px] sm:hidden md:hidden lg:hidden">
                                                        {{ item.ngayBatDau | date : 'dd/MM/yyyy' }}
                                                        - {{ item.ngayKetThuc | date : 'dd/MM/yyyy' }}
                                                    </div>
                                                    <div
                                                        class="font-medium text-[#0079E0] text-[14px] flex justify-between sm:hidden md:hidden lg:hidden"
                                                    >
                                                        <span [ngClass]="item.hocPhi > item.hocPhiPhaiNop ? 'line-through' : ''"
                                                            >{{ item.hocPhi | number }} đ</span
                                                        ><span>{{ item.hocPhiPhaiNop | number }} đ</span>
                                                    </div>
                                                    <div
                                                        [ngClass]="item.hocPhi > item.hocPhiPhaiNop ? 'line-through' : ''"
                                                        class="text-[#0079E0] text-[14px] sm:hidden lg:text-[16px] lg:flex items-center justify-end hidden"
                                                    >
                                                        {{ item.hocPhi | number }} đ
                                                    </div>
                                                    <div
                                                        [attr.keyLabel]="'HOC_PHI_CAN_NOP'"
                                                        class="text-[#0079E0] sm:hidden lg:flex items-center justify-end hidden"
                                                    >
                                                        {{ item.hocPhiPhaiNop | number }} đ
                                                    </div>
                                                </div>
                                                <div class="text-[#0079E0] hidden sm:flex lg:hidden justify-between mt-[15px]">
                                                    <span [ngClass]="item.hocPhi > item.hocPhiPhaiNop ? 'line-through' : ''"
                                                        >{{ item.hocPhi | number }} đ</span
                                                    ><span>{{ item.hocPhiPhaiNop | number }} đ</span>
                                                </div>
                                                <div
                                                    class="flex justify-center text-center mt-[15px]"
                                                    [ngClass]="
                                                        !isMienGiamDon
                                                            ? 'sm:absolute sm:mt-0 md:absolute md:mt-0 xl:absolute xl:mt-0 top-0 right-0'
                                                            : ''
                                                    "
                                                >
                                                    <button
                                                        (click)="registerLopHocDon(item)"
                                                        class="flex justify-center items-center p-[5px_12px] min-w-[150px] rounded-[30px] text-white bg-[#0063E2] transition-all duration-500 hover:bg-[#024cab]"
                                                    >
                                                        {{ 'TIEP_TUC' | transloco }}
                                                        <svg-icon key="arrow-right" fontSize="1rem"></svg-icon>
                                                    </button>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </ng-container>
                            </ng-container>
                        </section>
                        <section *ngIf="arrCombo.length > 0">
                            <div class="flex items-center justify-start mb-[20px]">
                                <div class="flex justify-center items-center mr-[13px] w-[39px] h-[39px] rounded-full bg-[#E4EFFB]">
                                    <span class="text-[18px] leading-[27px] font-semibold text-[#0063E2]">2</span>
                                </div>
                                <div class="text-[20px] leading-[28px] font-bold text-[#0063E2]">
                                    {{ 'UU_DAI_COMBO_LOP_HOC' | transloco }}
                                </div>
                            </div>
                            <ng-container *ngFor="let combo of arrCombo">
                                <div class="flex flex-col gap-[10px] border rounded-[8px] p-[15px] mb-[20px]">
                                    <div class="flex justify-between">
                                        <div class="flex items-center justify-start font-semibold text-[18px] text-[#0079E0] px-[10px]">
                                            {{ loaiDoiTuong[combo.keyId] }}
                                        </div>
                                    </div>
                                    <div
                                        class="px-[20px] sm:grid gap-[10px] sm:grid-cols-[minmax(0,1fr)_137px_175px] lg:grid lg:grid-cols-[minmax(0,1fr)_170px_200px_135px_140px] text-[16px] text-[#005391] font-semibold"
                                    >
                                        <div [attr.keyLabel]="'TEN_LOP_DAO_TAO'" class="text-left">
                                            {{ 'TEN_LOP_DAO_TAO' | transloco }}
                                        </div>
                                        <div
                                            [attr.keyLabel]="'NGAY_BAT_DAU_KHAI_GIANG'"
                                            class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                        >
                                            {{ 'NGAY_BAT_DAU_KHAI_GIANG' | transloco }}
                                        </div>
                                        <div
                                            [attr.keyLabel]="'NGAY_KET_THUC_DANG_KY'"
                                            class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                        >
                                            {{ 'NGAY_KET_THUC_DANG_KY' | transloco }}
                                        </div>
                                        <div class="text-[14px] sm:hidden lg:text-[16px] lg:flex items-center justify-end hidden">
                                            {{ 'HOC_PHI' | transloco }}
                                        </div>
                                        <div [attr.keyLabel]="'HOC_PHI_CAN_NOP'" class="sm:hidden lg:flex items-center justify-end hidden">
                                            {{ 'HOC_PHI_CAN_NOP' | transloco }}
                                        </div>
                                    </div>
                                    <ng-container *ngFor="let children of combo.children">
                                        <div
                                            class="flex flex-col gap-[15px] p-[20px] rounded-[11px] text-[16px] text-[#00000] font-semibold shadow-[0px_4px_20px_rgba(0,52,99,0.1)]"
                                        >
                                            <ng-container *ngFor="let item of children.children">
                                                <div
                                                    class="sm:grid gap-[10px] sm:grid-cols-[minmax(0,1fr)_137px_175px] lg:grid lg:grid-cols-[minmax(0,1fr)_170px_200px_135px_140px]"
                                                >
                                                    <div [attr.keyLabel]="'TEN_LOP_DAO_TAO'" class="text-left">
                                                        {{ item.tenLop }}
                                                    </div>
                                                    <div
                                                        [attr.keyLabel]="'NGAY_BAT_DAU_KHAI_GIANG'"
                                                        class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                                    >
                                                        {{ item.ngayBatDau | date : 'dd/MM/yyyy' }}
                                                    </div>
                                                    <div
                                                        [attr.keyLabel]="'NGAY_KET_THUC_DANG_KY'"
                                                        class="text-[14px] sm:text-[16px] sm:flex items-center justify-center hidden"
                                                    >
                                                        {{ item.ngayKetThuc | date : 'dd/MM/yyyy' }}
                                                    </div>
                                                    <div class="font-medium text-[14px] sm:hidden md:hidden lg:hidden">
                                                        {{ item.ngayBatDau | date : 'dd/MM/yyyy' }}
                                                        - {{ item.ngayKetThuc | date : 'dd/MM/yyyy' }}
                                                    </div>
                                                    <div
                                                        class="font-medium text-[#0079E0] text-[14px] flex justify-between sm:hidden md:hidden lg:hidden"
                                                    >
                                                        <span class="line-through">{{ item.hocPhi | number }} đ</span
                                                        ><span>{{ item.hocPhiPhaiNop | number }} đ</span>
                                                    </div>
                                                    <div
                                                        class="text-[#0079E0] line-through text-[14px] sm:hidden lg:text-[16px] lg:flex items-center justify-end hidden"
                                                    >
                                                        {{ item.hocPhi | number }} đ
                                                    </div>
                                                    <div
                                                        [attr.keyLabel]="'HOC_PHI_CAN_NOP'"
                                                        class="text-[#0079E0] sm:hidden lg:flex items-center justify-end hidden"
                                                    >
                                                        {{ item.hocPhiPhaiNop | number }} đ
                                                    </div>
                                                </div>
                                                <div class="text-[#0079E0] hidden sm:flex justify-between lg:hidden mt-[15px]">
                                                    <span class="line-through">{{ item.hocPhi | number }} đ</span
                                                    ><span>{{ item.hocPhiPhaiNop | number }} đ</span>
                                                </div>
                                            </ng-container>
                                            <div class="flex items-center justify-end cursor-pointer gap-[5px]">
                                                <button
                                                    (click)="addToCart(children)"
                                                    class="shrink-0 mr-1 text-[20px] h-[32px] w-[32px] flex items-center justify-center border border-[#F56700] text-[#F56700] rounded-[30px] hover:text-white hover:bg-[linear-gradient(262.33deg,#FF8616_6.98%,#F56700_91.55%)] transition-all duration-300 sm:h-[40px] sm:w-[40px]"
                                                >
                                                    <svg-icon key="cart" fontSize="20px"></svg-icon>
                                                </button>
                                                <button
                                                    (click)="registerLopHocComBo(children)"
                                                    type="button"
                                                    class="text-[12px] sm:h-[40px] sm:text-[16px] pr-[14px] py-[7px] sm:p-[6px_20px] flex items-center justify-center border border-[#F56700] text-[#F56700] rounded-full sm:rounded-[30px] group-hover:text-white group-hover:bg-[linear-gradient(262.33deg,#FF8616_6.98%,#F56700_91.55%)] transition-all"
                                                >
                                                    <span [attr.keyLabel]="'DANG_KY'" class="hidden sm:block">{{
                                                        'DANG_KY' | transloco
                                                    }}</span>
                                                    <svg-icon key="arrow-right"></svg-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                        </section>
                    </ng-template>
                </ng-container>
            </form>
        </div>
    </div>
</div>
